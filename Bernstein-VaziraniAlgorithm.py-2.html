#!/usr/bin/env python
# coding: utf-8

# In[1]:


from qiskit import *
from qiskit.visualization import plot_histogram


# In[2]:


get_ipython().run_line_magic('matplotlib', 'inline')


# In[3]:


secret = '10001101'


# In[4]:


circuit = QuantumCircuit(len(secret)+1, len(secret))

circuit.h(range(len(secret)))
          
circuit.x(len(secret))
          
circuit.h(len(secret))

circuit.barrier()

for i, x in enumerate(reversed(secret)):
    if x == '1':
        circuit.cx(i, len(secret))


circuit.barrier()

circuit.h(range(len(secret)))

circuit.barrier()
circuit.measure(range(len(secret)), range(len(secret)))


# In[5]:


circuit.draw(output='mpl')


# In[6]:


sim = Aer.get_backend('qasm_simulator')
results = execute(circuit, backend=sim, shots=1).result()
counts = results.get_counts()
print(counts)


# In[ ]:





# In[ ]:





# In[ ]:




